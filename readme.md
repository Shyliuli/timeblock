# 本项目正在开发
# 时光块 (TimeBlock) - 可视化时间管理工具

## 📖 项目概述

**时光块 (TimeBlock)** 是一款桌面端的时间管理应用程序，其设计灵感源于磁盘分区软件的直观操控感。在这里，你不再是管理抽象的待办事项列表，而是在可视化的周视图时间线上，“规划”与“重组”你的时间区块。

本项目的核心哲学，是将时间视为一种有限且有形的资源，可以被精确地分配、分割、合并及优化。应用程序通过一种简洁易读的TO-ML文件格式来存储日程，这使得它不仅易于手动编辑，更能方便地与AI协作，通过自然语言指令来生成、导入日程表。

本项目使用 **Rust** 语言开发，并选用 **egui** 作为其图形界面框架，以充分利用其即时模式GUI带来的高互动性和自定义渲染能力。

## ✨ 功能清单 (MVP - 最小可行产品)

MVP（Minimum Viable Product）的核心目标是交付一个功能完整、可用的核心版本，用于管理**单周**的日程。

### **模块一：数据核心与文件读写**
- [ ] **基于TOML的日程存储：** 所有的日程数据都存储在清晰、人类可读的 `.toml` 文件中。
  - 每个“事件”(`Event`)包含字段：`day`(日期), `start_time`(开始时间), `end_time`(结束时间), `title`(标题)，以及可选的 `details`(详情) 和 `is_fixed`(是否固定) 字段。
  - 这种 AI 友好的格式，为未来通过AI辅助生成日程表奠定了基础。
- [ ] **数据序列化：** 利用 `serde` 库，实现TOML文件与Rust结构体之间稳定、高效的序列化与反序列化。
- [ ] **加载功能：** 提供一个“加载”按钮，点击后可打开系统原生文件对话框，导入一个 `.toml` 格式的日程文件。
- [ ] **保存功能：** 提供一个“保存”按钮，点击后可将当前在界面上所有修改（移动、缩放等）写回到对应的 `.toml` 文件中。

### **模块二：图形用户界面 (GUI) - 视图**
- [ ] **周视图时间线：** 程序主界面以一个七列的网格呈现，分别代表周一至周日。
- [ ] **24小时时间轴：** 在视图左侧，绘制一个从 00:00 到 24:00 的垂直时间轴，并带有小时刻度标记。
- [ ] **事件块渲染：**
  - 每一个日程事件，都在网格上被渲染成一个彩色的矩形“块”。
  - 事件块的位置和尺寸，由其所属的日期、开始时间和持续时长精确决定。
  - 事件的 `title` (标题) 会显示在对应的块内部。

### **模块三：图形用户界面 (GUI) - 交互**
- [ ] **拖拽移动事件：** 可通过鼠标左键点击并拖拽一个事件块，来实现时间的变更（垂直拖拽）或日期的变更（水平拖拽）。所有改动会即时反应在底层数据上。
- [ ] **拖拽调整时长：** 可通过拖拽事件块的下边缘，来改变其 `end_time` (结束时间)，从而调整事件的持续时长。
- [ ] **事件详情面板：** 在界面的特定区域（如顶部或侧边栏），设置一个详情显示区。当用户单击任一事件块时，该区域会更新显示此事件完整的 `title` (标题) 和 `details` (详情)。

## 🚀 快速开始 (开发)

请遵循以下步骤来配置和运行开发环境。

### **环境要求**
- Rust 编程语言及 Cargo 包管理器: [https://www.rust-lang.org/tools/install](https://www.rust-lang.org/tools/install)

### **安装与运行**
1.  克隆本仓库：
    ```bash
    git clone [你的仓库地址]
    cd TimeBlock
    ```
2.  以调试模式运行程序：
    ```bash
    cargo run
    ```
3.  构建发布版本：
    ```bash
    cargo build --release
    ```

## 🛠️ 技术栈
- **编程语言:** [Rust](https://www.rust-lang.org/)
- **GUI 框架:** [egui](https://github.com/emilk/egui) - 一个纯Rust编写的、简单易用的即时模式GUI库。
- **序列化:** [Serde](https://serde.rs/) - 用于高效序列化与反序列化Rust数据结构的框架。
- **文件对话框:** [rfd (Rust File Dialog)](https://github.com/PolyMeilex/rfd) - 用于调用系统原生的文件打开/保存对话框。

## 🗺️ 未来路线图 (MVP之后)

- **高级编辑功能：** 通过右键菜单，为事件块实现“分割”、“合并”与“删除”等高级操作。
- **模板系统：** 支持 `is_fixed` (固定的) 事件，使其在视图中默认不可交互，用于承载课程表等基础日程。
- **多视图支持：** 增加独立的“日视图”和“月视图”，以适应不同粒度的时间规划需求。
- **自定义功能：** 允许用户自定义事件的颜色、分类标签，以及应用的主题。
- **撤销/重做：** 引入命令模式，支持用户撤销或重做自己的操作。

